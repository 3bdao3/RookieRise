<div class="background-image-container">
  <img src="./assets/images/loginPage.png" alt="Background" class="login-background-image" />
</div>

<div class="login-form-overlay">
  <div class="logo-container">
    <img src="/assets/images/Logo.png" alt="Rookie Rise Logo" class="rookie-rise-logo" />
  </div>

  <div class="login-card">
    <div class="language-dropdown">
      <label for="languageSelect">Language:</label>
      <select id="languageSelect" [(ngModel)]="currentLanguage" (change)="changeLanguage($event)">
        <option value="EN">EN</option>
        <option value="AR">AR</option>
      </select>
    </div>

    <form [formGroup]="form" (ngSubmit)="submit()">
      <h2 class="login-title">Login</h2>

      <div class="form-group">
        <label>Email</label>
        <input formControlName="email" type="email" placeholder="Enter your email" />
      </div>

      <div class="form-group">
        <label>Password</label>
        <div class="password-wrapper">
          <input
            [type]="showPassword ? 'text' : 'password'"
            formControlName="password"
            placeholder="Enter your password"
          />

          <button
            type="button"
            class="password-toggle-btn"
            (click)="togglePasswordVisibility()"
            [attr.aria-label]="showPassword ? 'Hide password' : 'Show password'">
            <ng-container *ngIf="showPassword; else eyeIcon">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <path d="M3 3L21 21" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M10.58 10.58A3 3 0 0 0 13.42 13.42" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M2.79 12.79C4.93 16.48 8.77 19 12 19c1.3 0 2.58-.24 3.75-.69" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M14.12 9.88C14.47 9.53 14.84 9.22 15.22 8.96" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </ng-container>
            <ng-template #eyeIcon>
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                <path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7S1 12 1 12z" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
                <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </ng-template>
          </button>
        </div>
      </div>

      <div class="options-row">
        <div class="toggle-container">
          <label class="toggle-switch">
            <input type="checkbox" formControlName="rememberMe" />
            <span class="slider"></span>
          </label>
          <span class="toggle-label">Remember me</span>
        </div>
        <a routerLink="/forgot-password" class="forgot-link">Forgot password?</a>
      </div>

      <button type="submit" [disabled]="loading || form.invalid">
        {{ loading ? 'Logging in...' : 'Login' }}
      </button>
    </form>
  </div>
</div>
